#!/bin/sh
#
# @name Hiwonder Mecanum
#
# @url https://www.hiwonder.com/products/large-metal-4wd-vehicle-chassis-green
#
# @type Rover
# @class Rover
#

. ${R}etc/init.d/rc.rover_mecanum_defaults

param set-default HIWONDER_EMM_EN 1 # Enable motor driver
param set-default BAT1_N_CELLS 3
param set-default NAV_ACC_RAD 0.5

# Mecanum Parameters
param set-default RM_WHEEL_TRACK 0.16

# Rover Rate Control Parameters
param set-default RO_YAW_EXPO 0.2
param set-default RO_YAW_SUPEXPO 0.1
param set-default RO_YAW_RATE_I 0.1
param set-default RO_YAW_RATE_P 0.1
param set-default RO_YAW_RATE_LIM 130

# Rover Attitude Control Parameters
param set-default RO_YAW_P 5

# Rover Velocity Control Parameters
param set-default RO_ACCEL_LIM 0.9
param set-default RO_DECEL_LIM 1.2
param set-default RO_JERK_LIM 10
param set-default RO_MAX_THR_SPEED 0.5
param set-default RO_SPEED_LIM 0.45
param set-default RO_SPEED_I 0.05
param set-default RO_SPEED_P 0.1
param set-default RO_SPEED_RED 1

# Pure Pursuit parameters
param set-default PP_LOOKAHD_GAIN 1
param set-default PP_LOOKAHD_MAX 10
param set-default PP_LOOKAHD_MIN 1
