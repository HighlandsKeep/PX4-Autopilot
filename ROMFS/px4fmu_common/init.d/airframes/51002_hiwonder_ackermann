#!/bin/sh
#
# @name Hiwonder Ackermann
#
# @url https://www.hiwonder.com/products/ackermann-steering-chassis?variant=40382428348503
#
# @type Rover
# @class Rover
#

. ${R}etc/init.d/rc.rover_ackermann_defaults

param set-default HIWONDER_EMM_EN 1 # Enable motor driver
param set-default BAT1_N_CELLS 3
param set-default NAV_ACC_RAD 0.5

# Ackermann Parameters
param set-default RA_WHEEL_BASE 0.17
param set-default RA_ACC_RAD_GAIN 1
param set-default RA_ACC_RAD_MAX 1
param set-default RA_MAX_STR_ANG 0.698132

# Rover Rate Control Parameters
param set-default RO_YAW_EXPO 0.6
param set-default RO_YAW_SUPEXPO 0.3
param set-default RO_YAW_RATE_I 0.1
param set-default RO_YAW_RATE_P 0.1
param set-default RO_YAW_RATE_LIM 150

# Rover Attitude Control Parameters
param set-default RO_YAW_P 5

# Rover Velocity Control Parameters
param set-default RO_ACCEL_LIM 1.6
param set-default RO_DECEL_LIM 3
param set-default RO_JERK_LIM 10
param set-default RO_MAX_THR_SPEED 1.2
param set-default RO_SPEED_LIM 1.1
param set-default RO_SPEED_I 0.05
param set-default RO_SPEED_P 0.1
param set-default RO_SPEED_RED 1

# Pure Pursuit parameters
param set-default PP_LOOKAHD_GAIN 1
param set-default PP_LOOKAHD_MAX 10
param set-default PP_LOOKAHD_MIN 1
